import{r as c,f as j,j as l,F as z,a as e,i as V,N as I,S as B,_ as $,z as A}from"./index-936b0659.js";import{P as U}from"./ProductCard-8bc661a5.js";import{i as F}from"./discountCalculate-864b093a.js";import{u as M}from"./index.esm-bded1fbe.js";import"./wishListApi-b6b8b903.js";const u=(n,r,s)=>{if(n.indexOf("?")===-1)return n+="?",n;{const i=n.split("&");let d=!1;for(let a=0;a<i.length;a++){const o=i[a].split("=");if(o[0]===r){o[1]=s,i[a]=o.join("="),d=!0;break}}return d||i.push(`${r}=${s}`),i.join("&")}},E=(n,r,s,i)=>{let d=[...s];if(n)r([...s,{_id:i._id,name:i.name,checked:!0}]),d.push(i);else{const o=s.filter(b=>b._id!==i._id);r(o),d=o}const p=[];return d.forEach(o=>{o.name.length>0&&p.push(o.name)}),p.join(",")},G=()=>{var m;const[n,r]=c.useState(0),[s,i]=c.useState(0),d=j(),[p,a]=c.useState([{_id:"",name:""}]),[o,b]=c.useState([{_id:"",name:"",checked:!1}]),x=[{_id:"1",name:"md"},{_id:"2",name:"lg"},{_id:"3",name:"xl"}],S=[{_id:"1",name:"red"},{_id:"2",name:"green"},{_id:"3",name:"black"},{_id:"4",name:"orange"},{_id:"5",name:"yellow"},{_id:"6",name:"wood"}],{data:f,isLoading:v,isError:k}=M(),y=(t,h)=>{const N=E(t.target.checked,a,p,h),C=u(location.search,"size",N);d(C)},w=(t,h)=>{const N=E(t.target.checked,b,o,h),C=u(location.search,"color",N);d(C)},_=t=>{t.preventDefault();const h=`${n}-${s}`,N=u(location.search,"price",h);d(N)},g=t=>{const h=u(location.search,"price",t);d(h)};return l(z,{children:[e("div",{className:"flex justify-between pt-2 pb-4 text-[#333] font-bold items-center",children:e("label",{children:"Filter :"})}),l("div",{tabIndex:0,className:"collapse collapse-plus border-r border-base-300 bg-base-100 rounded-sm",children:[e("input",{type:"checkbox",className:"peer"}),e("h3",{className:"collapse-title text-lg font-semibold border-b border-[#eee] px-0",children:e("label",{className:"py-[1rem] text-[1rem] border-b border-[#333]",children:"All Categories"})}),v?e(V,{}):e("ul",{className:"collapse-content",children:(m=f==null?void 0:f.result)==null?void 0:m.map(t=>e("li",{className:"pt-2.5 transition-colors hover:text-[#ff4949] ",children:e(I,{to:u(location.search,"category",t._id),children:t.title})}))})]}),l("div",{tabIndex:0,className:"collapse collapse-plus border-r border-base-300 bg-base-100 rounded-sm",children:[e("input",{type:"checkbox",className:"peer"}),e("h3",{className:"collapse-title text-lg font-semibold border-b border-[#eee] px-0",children:e("label",{className:"py-[1rem] border-b border-[#333] text-[1rem]",children:"Price"})}),l("ul",{className:"collapse-content cursor-pointer",children:[e("li",{onClick:()=>g("0-200"),className:"pt-2.5 transition-colors hover:text-[#ff4949]",children:e("div",{children:"0.00 - 200"})}),e("li",{className:"pt-2.5 transition-colors hover:text-[#ff4949] cursor-pointer",onClick:()=>g("200-500"),children:e("div",{children:"200 - 500"})}),e("li",{className:"pt-2.5 transition-colors hover:text-[#ff4949] cursor-pointer",onClick:()=>g("500-1000"),children:e("div",{children:"500 - 1000"})}),l("form",{onSubmit:t=>_(t),className:"flex items-center gap-2 my-2.5 text-[#999]",children:[e("input",{type:"number",name:"min_price",className:"p-1.5 text-center items-center w-16 border border-[#999] focus:outline-none h-8",value:n,onChange:t=>r(parseInt(t.target.value)),placeholder:"$min"}),e("span",{className:"delimiter",children:"-"}),e("input",{type:"number",name:"max_price",className:"p-1.5 text-center items-center w-16 border border-[#999] focus:outline-none h-8",value:s,onChange:t=>i(parseInt(t.target.value)),placeholder:"$max"}),e("button",{type:"submit",className:"btn  btn-primary btn-sm rounded-none  ml-2 ",children:"Go"})]})]})]}),l("div",{tabIndex:0,className:"collapse collapse-plus border-r border-base-300 bg-base-100 rounded-sm",children:[e("input",{type:"checkbox",className:"peer"}),e("h3",{className:"collapse-title text-lg font-semibold border-b border-[#eee] px-0",children:e("label",{className:"py-[1rem] border-b border-[#333] text-[1rem]",children:"Size"})}),e("ul",{className:"collapse-content",children:x.map(t=>e("li",{className:"pt-2.5 transition-colors hover:text-[#ff4949] underline",children:l("label",{className:"inline-flex items-center gap-2 mt-2 cursor-pointer ",children:[e("input",{type:"checkbox",checked:t.checked,className:"checkbox checkbox-sm rounded-none ",onChange:h=>{y(h,t)}})," ",t.name]})},t._id))})]}),l("div",{tabIndex:0,className:"collapse collapse-plus border-r border-base-300 bg-base-100 rounded-sm",children:[e("input",{type:"checkbox",className:"peer"}),e("h3",{className:"collapse-title text-lg font-semibold border-b border-[#eee] px-0",children:e("label",{className:"py-[1rem] border-b border-[#333] text-[1rem]",children:"Color"})}),e("ul",{className:"collapse-content",children:S.map(t=>e("li",{className:"pt-2.5 transition-colors hover:text-[#ff4949] underline",children:l("label",{className:"inline-flex items-center gap-2 mt-2 cursor-pointer",children:[e("input",{type:"checkbox",className:"checkbox checkbox-sm rounded-none",onChange:h=>{w(h,t)}})," ",t.name]})},t._id))})]})]})};var L=c.forwardRef(function(n,r){var s={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return c.createElement(B,$({iconAttrs:s,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},n,{ref:r}),c.createElement("g",{"data-name":"Layer 2"},c.createElement("g",{"data-name":"menu-2"},c.createElement("circle",{cx:4,cy:12,r:1}),c.createElement("rect",{width:14,height:2,x:7,y:11,rx:.94,ry:.94}),c.createElement("rect",{width:18,height:2,x:3,y:16,rx:.94,ry:.94}),c.createElement("rect",{width:18,height:2,x:3,y:6,rx:.94,ry:.94}))))});L.displayName="Menu2";const P=[{_id:"1",name:"Default sorting",value:""},{_id:"2",name:"Sort by latest",value:"newest"},{_id:"3",name:"Sort price law to high",value:"price-asc"},{_id:"4",name:"Sort price high to law",value:"price-desc"}],W=[{_id:"1",name:"Show 12",value:12},{_id:"2",name:"Show 24",value:24},{_id:"3",name:"Show 36",value:36},{_id:"4",name:"Show 50",value:50}],D=()=>{const n=j();return l("nav",{className:"flex justify-between flex-wrap items-center pb-2.5",children:[l("div",{className:"toolbox-left flex items-center flex-wrap gap-5",children:[l("button",{className:"btn btn-info btn-outline rounded-md btn-sm",children:[e(L,{size:24,className:"mr-2"}),e("span",{children:"Filters"})]}),l("div",{className:"flex text-[#333] font-bold items-center",children:[e("label",{className:"mr-2",children:"Sort By :"}),e("select",{name:"orderby",className:"form-control select select-bordered rounded-sm select-sm w-[10rem] focus:outline-none max-w-none border border-[#d7d7d7]",onChange:r=>{const s=u(location.search,"sort",r.target.value);n(s)},children:P.map(r=>e("option",{value:r.value,defaultValue:"selected",children:r.name},r._id))})]})]}),l("div",{className:"toolbox-right",children:[e("div",{className:"toolbox-item toolbox-show select-box",children:e("select",{name:"count",className:"select select-bordered rounded-sm focus:outline-none max-w-none border border-[#d7d7d7]",onChange:r=>{const s=u(location.search,"limit",r.target.value);n(s)},children:W.map(r=>e("option",{value:r.value,defaultValue:"selected",children:r.name},r._id))})}),l("div",{className:"toolbox-item toolbox-layout",children:[e("a",{href:"shop-banner-sidebar.html",className:"icon-mode-grid btn-layout active",children:e("i",{className:"w-icon-grid"})}),e("a",{href:"shop-list.html",className:"icon-mode-list btn-layout",children:e("i",{className:"w-icon-list"})})]})]})]})};function H(){var f,v,k,y,w,_,g;const n=A(),[r,s]=c.useState(!0),[i,d]=c.useState(1),p=j(),{data:a,isLoading:o,isError:b}=F(n.search,{skip:r});c.useEffect(()=>{n.search&&s(!1)},[n]);let x=null;o&&(x=e(V,{})),!o&&b&&(x=e("p",{className:"text-center text-red-400 md:text-xl",children:"There was something wrong!"})),!o&&!b&&((v=(f=a==null?void 0:a.result)==null?void 0:f.data)==null?void 0:v.length)===0&&(x=l("div",{className:"text-center",children:[e("p",{className:"text-xl font-bold",children:"Search No Results"}),e("p",{children:"We're sorry. We cannot find any matches for your search term."})]})),!o&&!b&&((y=(k=a==null?void 0:a.result)==null?void 0:k.data)==null?void 0:y.length)>0&&(x=(_=(w=a==null?void 0:a.result)==null?void 0:w.data)==null?void 0:_.map(m=>e(U,{product:m},m._id)));let S=a!=null&&a.result?Array.from({length:(g=a==null?void 0:a.result)==null?void 0:g.totalPageNumber},(m,t)=>t+1):[];return e("div",{className:"container",children:l("div",{className:"grid grid-cols-12 gap-4",children:[e("aside",{className:"col-span-12 md:col-span-3 px-4",children:e(G,{})}),l("div",{className:"col-span-12 md:col-span-9 ",children:[e(D,{}),l("div",{children:[e("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-y-10 gap-4 mb-4",children:x}),e("div",{className:"flex justify-end my-2",children:e("div",{className:"btn-group ",children:S.map(m=>e("button",{onClick:()=>{d(m),p(u(n.search,"page",m.toString()))},className:`btn btn-sm btn-outline ${i===m?"btn-active btn-error":""}`,children:m}))})})]})]})]})})}export{H as default};
